# üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

## ‚ùì –ü–æ—á–µ–º—É –Ω–µ –±—É–¥–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø—Ä–∏ –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏?

### üîÑ –ú–µ—Ö–∞–Ω–∏–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

**1. –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞ (–ù–ï –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ):**
```python
# –†–µ–∂–∏–º "w" = –ü–û–õ–ù–ê–Ø –ü–ï–†–ï–ó–ê–ü–ò–°–¨, –∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ!
with open(target_file, "w", encoding='utf-8') as f:
    json.dump(active_reminders, f, ensure_ascii=False, indent=2)
```

**2. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:**
- –í—Å–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –±–µ—Ä—É—Ç—Å—è –¢–û–õ–¨–ö–û –∏–∑ Google Sheets
- –õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª `reminders.json` –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∏—Ä–∞–µ—Ç—Å—è
- –ó–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (`Status = 'Active'`)

**3. –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞:**
```
üîÑ Starting reminders auto-sync at 15:30 MSK
üìã Current local reminders: 12
üõ°Ô∏è File completely overwritten - no duplicates possible  
üîÑ Auto-sync: Updated reminders 12 ‚Üí 15
üìä Active jobs after auto-sync: 15
```

## üõ°Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ ID:
```python
seen_ids = set()  # –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ ID

for record in records:
    reminder_id = str(record.get('ID', '')).strip()
    
    if reminder_id in seen_ids:
        logger.warning(f"Skipping duplicate reminder ID: {reminder_id}")
        continue
    
    seen_ids.add(reminder_id)  # –ó–∞–ø–æ–º–∏–Ω–∞–µ–º ID
```

### üìä –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:
```
üìä Restore statistics:
   Total records in Google Sheets: 20
   Active reminders found: 15
   Duplicates skipped: 0
   Invalid records skipped: 2
   Non-active records skipped: 3
```

## üéØ –ì–∞—Ä–∞–Ω—Ç–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏:

### 1. **–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:**
- –ö–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
- ID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `max_existing_id + 1`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ

### 2. **–ü—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
- –§–∞–π–ª `reminders.json` **–ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è**
- –ù–∏–∫–∞–∫–∏–µ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –î—É–±–ª–∏–∫–∞—Ç–æ–≤ –±—ã—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–µ –º–æ–∂–µ—Ç

### 3. **–ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ ID –≤–Ω—É—Ç—Ä–∏ Google Sheets
- –ü—Ä–æ–ø—É—Å–∫ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–ø–∏—Å–µ–π
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üîç –õ–æ–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

### ‚úÖ –£—Å–ø–µ—à–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:
```
‚úÖ Successfully restored 15 active reminders from Google Sheets to reminders.json
üîÑ File completely overwritten - no duplicates possible
üìä Restore statistics:
   Total records in Google Sheets: 18
   Active reminders found: 15
   Duplicates skipped: 0
```

### ‚ö†Ô∏è –ù–∞–π–¥–µ–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã –≤ Google Sheets:
```
‚ö†Ô∏è Skipping duplicate reminder ID: 5
üìä Restore statistics:
   Duplicates skipped: 1
```

## üö´ –ù–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:

### ‚ùå –°—Ü–µ–Ω–∞—Ä–∏–π: "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º"
**–ù–ï –ü–†–û–ò–°–•–û–î–ò–¢!** –§–∞–π–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è, –∞ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.

### ‚ùå –°—Ü–µ–Ω–∞—Ä–∏–π: "–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π"  
**–ù–ï –ü–†–û–ò–°–•–û–î–ò–¢!** –ü—Ä–∏ –∫–∞–∂–¥–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¢–û–õ–¨–ö–û –∞–∫—Ç–∏–≤–Ω—ã–µ –∏–∑ Google Sheets.

### ‚ùå –°—Ü–µ–Ω–∞—Ä–∏–π: "–°—Ç–∞—Ä—ã–µ + –Ω–æ–≤—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è"
**–ù–ï –ü–†–û–ò–°–•–û–î–ò–¢!** –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ç–∏—Ä–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é.

## üéØ –ò—Ç–æ–≥–æ–≤—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏:

### ‚úÖ **100% –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö** - Google Sheets
2. **–ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞** –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏  
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ ID** –≤–Ω—É—Ç—Ä–∏ Google Sheets
4. **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### üîÑ **–ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞:**
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¢–û–õ–¨–ö–û –∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
- –ü–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è –∑–∞–Ω–æ–≤–æ
- –õ–æ–≥–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**üí™ –†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ù–ò–ö–û–ì–î–ê –Ω–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è!** 